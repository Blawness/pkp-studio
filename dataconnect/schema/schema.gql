
type Query {
  listCertificates: [Certificate!]
  getCertificateByKode(kode: String!): Certificate
}

type Mutation {
  createCertificate(input: CertificateCreateInput!): Certificate!
  updateCertificate(input: CertificateUpdateInput!): Certificate
  deleteCertificateByKode(kode: String!): String
}

"""
Represents a land certificate.
"""
type Certificate @table(name: "certificates") {
  id: String! @unique @column(name: "id") # Use 'kode' as the primary identifier
  kode: String! @unique @column(name: "kode")
  nama_pemegang: String! @column(name: "nama_pemegang")
  surat_hak: String! @column(name: "surat_hak")
  no_sertifikat: String! @column(name: "no_sertifikat")
  lokasi_tanah: String! @column(name: "lokasi_tanah")
  luas_m2: Int! @column(name: "luas_m2")
  tgl_terbit: Timestamp! @column(name: "tgl_terbit") # Changed from Date!
  surat_ukur: String! @column(name: "surat_ukur")
  nib: String! @column(name: "nib")
  pendaftaran_pertama: Timestamp! @column(name: "pendaftaran_pertama") # Changed from Date!
  createdAt: Timestamp @column(name: "created_at")
  updatedAt: Timestamp @column(name: "updated_at")
}

input CertificateCreateInput {
  kode: String!
  nama_pemegang: String!
  surat_hak: String!
  no_sertifikat: String!
  lokasi_tanah: String!
  luas_m2: Int!
  tgl_terbit: Timestamp! # Changed from Date!
  surat_ukur: String!
  nib: String!
  pendaftaran_pertama: Timestamp! # Changed from Date!
}

input CertificateUpdateInput {
  kode: String! # Used to identify the certificate to update
  nama_pemegang: String
  surat_hak: String
  no_sertifikat: String
  lokasi_tanah: String
  luas_m2: Int
  tgl_terbit: Timestamp # Changed from Date
  surat_ukur: String
  nib: String
  pendaftaran_pertama: Timestamp # Changed from Date
}

# Define custom scalars if not built-in, though Timestamp is usually built-in.
scalar Timestamp
# scalar Date # If Date was intended as a custom scalar, its definition would be here.
